{% extends "main/base.html" %}
{% load static %}
{% block title %}Choose Template - SiteLab{% endblock %}

{% block content %}

<!-- BLOBS (موجود ستايلهم في style.css) -->
<div class="blob blob-1"></div>
<div class="blob blob-2"></div>

<section class="py-5 text-center" style="padding-top: 7rem !important; padding-bottom: 3rem !important;">
  <div class="container" data-aos="fade-down">

    <p class="text-start text-primary fw-bold text-uppercase small mb-5">
      <a href="{% url 'main:home' %}" class="text-primary text-decoration-none">Home</a> /
      <a href="{% url 'main:our_services' %}" class="text-primary text-decoration-none">Services</a> /
      <span class="text-dark">Templates</span>
    </p>

    <h1 class="display-5 fw-bolder mb-3 mx-auto" style="max-width: 900px;">
      <i class="fa-solid fa-wand-magic-sparkles text-warning me-3"></i>
      Choose Your <span class="text-gradient">Portfolio Template</span>
    </h1>

    <p class="lead text-muted mx-auto mb-4" style="max-width: 700px;">
      Select from our gallery of optimized, responsive templates designed to showcase your skills.
    </p>
  </div>
</section>

<section class="pb-5">
  <div class="container">
    <div class="row g-4 justify-content-center">

      {% for t in templates %}
      <div class="col-md-6 col-lg-4 d-flex">
        <form method="POST" class="w-100">
          {% csrf_token %}
          <input type="hidden" name="template_slug" value="{{ t.slug }}">

          <div class="template-card card h-100 w-100 border-0 glass-card floating-element" data-aos="zoom-in"
            data-aos-delay="{{ forloop.counter0 }}00">

            <!-- Mini Preview -->
            <div class="template-preview-box">
              <div class="template-preview-content">
                {% include t.preview_partial %}
              </div>
            </div>
          


            <!-- BODY -->
            <div class="card-body d-flex flex-column pt-4 px-4 pb-4">

              <!-- RATING STARS -->
              <div class="mb-3">
                <i class="{{ t.icon_class }} display-3 text-white"></i>
              </div>

              <!-- DESCRIPTION -->
              <h5 class="fw-bold">{{ t.name }}</h5>
              <p class="card-text text-muted small">{{ t.description }}</p>

              <!-- BUTTON -->
              <div class="mt-auto pt-3 border-top">
                <button class="btn btn-custom-primary w-100 shadow-sm" type="submit">
                  Select Template <i class="fa-solid fa-arrow-right ms-2"></i>
                </button>
              </div>

            </div>

          </div>
        </form>
      </div>
      {% endfor %}

    </div>
  </div>
</section>

<!-- CUSTOM PROJECT BOX -->
<section class="py-5">
  <div class="container">
    <div class="glass-card p-5 text-center floating-element" data-aos="zoom-in-up">
      <i class="fa-solid fa-star-of-life text-primary display-4 mb-3"></i>
      <h2 class="fw-bold mb-3">Got a Unique Vision?</h2>
      <p class="mb-4 text-muted mx-auto" style="max-width: 600px;">
        If none of our templates fit your advanced requirements, our custom web team can build your dream design.
      </p>
      <a href="{% url 'custom:create_request_view' %}" class="btn btn-dark btn-lg px-5 shadow-lg">
        Start a Custom Project <i class="fa-solid fa-code ms-2"></i>
      </a>
    </div>
  </div>
</section>

{% endblock %}