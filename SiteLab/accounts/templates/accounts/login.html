{% extends 'main/base.html' %}

{% block title %}Login{% endblock %}

{% block content %}
<div class="full-card" data-aos="zoom-in">
    <div class="registertion-card">
        <h2 class="text-center mb-5">Login</h2>

        <form method="POST">
            {% csrf_token %}

            {% if form.non_field_errors %}
            <div class="text-danger small mb-3">
                {{ form.non_field_errors }}
                Incorrect username or password.
            </div>
            {% endif %}

            {% for field in form %}
            <div class="mb-4">
                {{ field }}
                {% if field.errors %}
                <div class="text-danger small mt-1">{{ field.errors }}</div>
                {% endif %}
            </div>
            {% endfor %}

            <!-- Hidden input to carry the 'next' URL -->
            <input type="hidden" name="next" value="{{ next }}">

            <button class="register-btn">Login</button>

            <p class="login-text text-center mt-3">
                Don't have an account?
                <a href="{% url 'accounts:register_view' %}" class="text-primary fw-semibold">Register</a>
            </p>
        </form>
    </div>
</div>
{% endblock %}
